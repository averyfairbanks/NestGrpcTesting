syntax = "proto3";

import 'google/protobuf/struct.proto';
import 'google/protobuf/empty.proto';

package blog;

// TODO: Add ERROR object in separate class
// Make every response oneof {error || response}
// Translate service errors to closest status.code equivalent
service BlogService {
  rpc FindOneById(FindOneByIdRequest) returns (Blog);
  rpc FindAll(google.protobuf.Empty) returns (FindAllBlogsResponse);
}

message FindOneByIdRequest {
  int32 id = 1;
}

message Blog {
  int32                  id     = 1;
  string                 title  = 2;
  string                 author = 3;
  google.protobuf.Struct body   = 4;
}

message FindAllBlogsResponse {
  repeated Blog blogs = 1;
}